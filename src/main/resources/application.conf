ktor {
    deployment {
        port = 8080
        host = "0.0.0.0"
        watch = [ classes, resources ]
    }

    application {
        modules = [ com.todoapp.ApplicationKt.module ]
    }

    development = true

    log {
        level = "INFO"
    }

    security {
        ssl = false
        hsts {
            max-age-in-seconds = 31536000
            include-sub-domains = true
            preload = true
        }
        referrer-policy {
            policy = "strict-origin-when-cross-origin"
        }
        content-type-options {
            nosniff = true
        }
        frame-options {
            same-origin = true
        }
        xss-protection {
            enabled = true
            mode = "block"
        }
    }

    # JWT configuration
    jwt {
        secret = ${?JWT_SECRET}
        secret = "your-super-secret-jwt-key-change-in-production"
        issuer = ${?JWT_ISSUER}
        issuer = "todo-app"
        audience = ${?JWT_AUDIENCE}
        audience = "todo-app-users"
        realm = ${?JWT_REALM}
        realm = "todo-app"
    }
}